<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bottle Episodes - Mod Creator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid #0f3460;
            margin-bottom: 30px;
        }

        h1 {
            color: #4ecca3;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(78, 204, 163, 0.3);
        }

        .subtitle {
            color: #a0a0a0;
            font-size: 1.1em;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .panel {
            background: rgba(15, 52, 96, 0.4);
            border: 1px solid #0f3460;
            border-radius: 10px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .panel h2 {
            color: #4ecca3;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #0f3460;
            padding-bottom: 10px;
        }

        .form-section {
            margin-bottom: 25px;
        }

        .form-section h3 {
            color: #78c2ad;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #b0b0b0;
            font-size: 0.9em;
        }

        input[type="text"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 10px;
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid #0f3460;
            border-radius: 5px;
            color: #e0e0e0;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #4ecca3;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
            font-family: inherit;
        }

        .color-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        input[type="color"] {
            width: 60px;
            height: 40px;
            border: 1px solid #0f3460;
            border-radius: 5px;
            cursor: pointer;
            background: transparent;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .array-input {
            margin-bottom: 10px;
        }

        .array-item {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .array-item input {
            flex: 1;
        }

        button {
            padding: 10px 20px;
            background: #4ecca3;
            color: #1a1a2e;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        button:hover {
            background: #78c2ad;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78, 204, 163, 0.3);
        }

        .btn-secondary {
            background: #e94560;
            color: white;
        }

        .btn-secondary:hover {
            background: #c7354d;
        }

        .btn-small {
            padding: 5px 15px;
            font-size: 0.9em;
        }

        .json-output {
            background: #0a0a15;
            border: 1px solid #0f3460;
            border-radius: 5px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #4ecca3;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 600px;
            overflow-y: auto;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #0f3460;
        }

        .tab {
            padding: 10px 20px;
            background: transparent;
            color: #b0b0b0;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1em;
        }

        .tab.active {
            color: #4ecca3;
            border-bottom-color: #4ecca3;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .success-message {
            background: rgba(78, 204, 163, 0.2);
            border: 1px solid #4ecca3;
            color: #4ecca3;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
        }

        .error-message {
            background: rgba(233, 69, 96, 0.2);
            border: 1px solid #e94560;
            color: #e94560;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            display: none;
        }

        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }

        .stat-input {
            display: grid;
            grid-template-columns: 1fr 100px;
            gap: 10px;
            align-items: center;
        }

        .preview-box {
            background: rgba(15, 52, 96, 0.2);
            border: 1px solid #0f3460;
            border-radius: 5px;
            padding: 15px;
            margin-top: 10px;
        }

        .preview-character {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            background: rgba(26, 26, 46, 0.4);
            border-radius: 5px;
            margin-bottom: 10px;
        }

        .preview-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üßü Bottle Episodes - Mod Creator</h1>
            <p class="subtitle">Create custom zombie game mods without touching backend code</p>
        </header>

        <div class="success-message" id="successMessage">Mod saved successfully! ‚úì</div>
        <div class="error-message" id="errorMessage">Error saving mod. Please check your inputs.</div>

        <div class="main-layout">
            <div class="panel">
                <h2>üéÆ Mod Configuration</h2>
                
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('gameSettings')">Game Settings</button>
                    <button class="tab" onclick="switchTab('characters')">Characters</button>
                    <button class="tab" onclick="switchTab('environment')">Environment</button>
                    <button class="tab" onclick="switchTab('items')">Items</button>
                </div>

                <!-- Game Settings Tab -->
                <div id="gameSettings" class="tab-content active">
                    <div class="form-section">
                        <h3>Basic Information</h3>
                        <div class="form-group">
                            <label for="modName">Mod Name</label>
                            <input type="text" id="modName" placeholder="Enter your mod name" value="My Custom Zombie Mod">
                        </div>
                        <div class="form-group">
                            <label for="modDescription">Description</label>
                            <textarea id="modDescription" placeholder="Describe your mod">A custom zombie survival experience with unique challenges.</textarea>
                        </div>
                        <div class="form-group">
                            <label for="difficulty">Difficulty Level</label>
                            <select id="difficulty">
                                <option value="easy">Easy</option>
                                <option value="normal" selected>Normal</option>
                                <option value="hard">Hard</option>
                                <option value="nightmare">Nightmare</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Gameplay Settings</h3>
                        <div class="form-group">
                            <label for="startingResources">Starting Resources</label>
                            <input type="number" id="startingResources" value="100" min="0" max="1000">
                        </div>
                        <div class="form-group">
                            <label for="zombieSpawnRate">Zombie Spawn Rate (seconds)</label>
                            <input type="number" id="zombieSpawnRate" value="30" min="5" max="300">
                        </div>
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="friendlyFire">
                            <label for="friendlyFire">Enable Friendly Fire</label>
                        </div>
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="permaDeath" checked>
                            <label for="permaDeath">Permadeath Mode</label>
                        </div>
                    </div>
                </div>

                <!-- Characters Tab -->
                <div id="characters" class="tab-content">
                    <div class="form-section">
                        <h3>Player Character</h3>
                        <div class="form-group">
                            <label for="charName">Character Name</label>
                            <input type="text" id="charName" placeholder="Enter character name" value="Survivor">
                        </div>
                        <div class="form-group">
                            <label for="charClass">Class</label>
                            <select id="charClass">
                                <option value="survivor">Survivor</option>
                                <option value="medic">Medic</option>
                                <option value="soldier">Soldier</option>
                                <option value="engineer">Engineer</option>
                                <option value="scout">Scout</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Health</label>
                            <input type="number" id="charHealth" value="100" min="1" max="500">
                        </div>
                        <div class="form-group">
                            <label>Speed</label>
                            <input type="number" id="charSpeed" value="5" min="1" max="10" step="0.5">
                        </div>
                        <div class="form-group">
                            <label>Stamina</label>
                            <input type="number" id="charStamina" value="100" min="10" max="200">
                        </div>
                        <div class="form-group">
                            <label for="charColor">Character Color</label>
                            <div class="color-input-group">
                                <input type="color" id="charColor" value="#4ecca3">
                                <input type="text" id="charColorHex" value="#4ecca3" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Special Abilities</h3>
                        <div id="abilitiesContainer">
                            <div class="array-item">
                                <input type="text" placeholder="Ability name" value="Fast Heal">
                                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
                            </div>
                        </div>
                        <button class="btn-small" onclick="addAbility()">+ Add Ability</button>
                    </div>
                </div>

                <!-- Environment Tab -->
                <div id="environment" class="tab-content">
                    <div class="form-section">
                        <h3>Map Settings</h3>
                        <div class="form-group">
                            <label for="mapName">Map Name</label>
                            <input type="text" id="mapName" value="Abandoned City">
                        </div>
                        <div class="form-group">
                            <label for="timeOfDay">Time of Day</label>
                            <select id="timeOfDay">
                                <option value="dawn">Dawn</option>
                                <option value="day">Day</option>
                                <option value="dusk" selected>Dusk</option>
                                <option value="night">Night</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="weather">Weather</label>
                            <select id="weather">
                                <option value="clear">Clear</option>
                                <option value="rain">Rain</option>
                                <option value="fog" selected>Fog</option>
                                <option value="storm">Storm</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="ambientColor">Ambient Color</label>
                            <div class="color-input-group">
                                <input type="color" id="ambientColor" value="#1a1a2e">
                                <input type="text" id="ambientColorHex" value="#1a1a2e" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>Environmental Hazards</h3>
                        <div id="hazardsContainer">
                            <div class="array-item">
                                <input type="text" placeholder="Hazard name" value="Toxic Gas">
                                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
                            </div>
                        </div>
                        <button class="btn-small" onclick="addHazard()">+ Add Hazard</button>
                    </div>
                </div>

                <!-- Items Tab -->
                <div id="items" class="tab-content">
                    <div class="form-section">
                        <h3>Starting Items</h3>
                        <div id="itemsContainer">
                            <div class="array-item">
                                <input type="text" placeholder="Item name" value="First Aid Kit" style="flex: 2;">
                                <input type="number" placeholder="Quantity" value="2" min="1" style="flex: 1;">
                                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
                            </div>
                            <div class="array-item">
                                <input type="text" placeholder="Item name" value="Baseball Bat" style="flex: 2;">
                                <input type="number" placeholder="Quantity" value="1" min="1" style="flex: 1;">
                                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
                            </div>
                        </div>
                        <button class="btn-small" onclick="addItem()">+ Add Item</button>
                    </div>

                    <div class="form-section">
                        <h3>Crafting Recipes</h3>
                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="enableCrafting" checked>
                            <label for="enableCrafting">Enable Crafting System</label>
                        </div>
                        <div class="form-group">
                            <label for="craftingDifficulty">Crafting Difficulty</label>
                            <select id="craftingDifficulty">
                                <option value="easy">Easy</option>
                                <option value="normal" selected>Normal</option>
                                <option value="hard">Hard</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button onclick="generateJSON()">üîÑ Generate JSON</button>
                    <button onclick="loadTemplate()">üìã Load Template</button>
                    <button onclick="resetForm()">üóëÔ∏è Reset Form</button>
                </div>
            </div>

            <div class="panel">
                <h2>üìÑ JSON Output</h2>
                <div class="json-output" id="jsonOutput">{
  "modInfo": {
    "name": "My Custom Zombie Mod",
    "description": "A custom zombie survival experience with unique challenges.",
    "version": "1.0.0"
  },
  "gameSettings": {
    "difficulty": "normal",
    "startingResources": 100,
    "zombieSpawnRate": 30,
    "friendlyFire": false,
    "permaDeath": true
  },
  "player": {
    "name": "Survivor",
    "class": "survivor",
    "stats": {
      "health": 100,
      "speed": 5,
      "stamina": 100
    },
    "color": "#4ecca3",
    "abilities": ["Fast Heal"]
  },
  "environment": {
    "mapName": "Abandoned City",
    "timeOfDay": "dusk",
    "weather": "fog",
    "ambientColor": "#1a1a2e",
    "hazards": ["Toxic Gas"]
  },
  "items": {
    "startingInventory": [
      { "name": "First Aid Kit", "quantity": 2 },
      { "name": "Baseball Bat", "quantity": 1 }
    ],
    "craftingEnabled": true,
    "craftingDifficulty": "normal"
  }
}</div>
                <div class="button-group">
                    <button onclick="copyJSON()">üìã Copy JSON</button>
                    <button onclick="downloadJSON()">üíæ Download JSON</button>
                    <button onclick="validateJSON()">‚úÖ Validate JSON</button>
                </div>

                <div class="preview-box" style="margin-top: 30px;">
                    <h3 style="color: #4ecca3; margin-bottom: 15px;">üé® Preview</h3>
                    <div class="preview-character" id="characterPreview">
                        <div class="preview-icon" id="previewIcon" style="background: #4ecca3;">
                            üë§
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 5px;">Survivor - Survivor</div>
                            <div style="font-size: 0.9em; color: #b0b0b0;">
                                HP: 100 | Speed: 5 | Stamina: 100
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Color picker sync
        document.getElementById('charColor').addEventListener('input', function() {
            document.getElementById('charColorHex').value = this.value;
            updatePreview();
        });

        document.getElementById('ambientColor').addEventListener('input', function() {
            document.getElementById('ambientColorHex').value = this.value;
        });

        // Array management functions
        function addAbility() {
            const container = document.getElementById('abilitiesContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <input type="text" placeholder="Ability name">
                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
            `;
            container.appendChild(div);
        }

        function addHazard() {
            const container = document.getElementById('hazardsContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <input type="text" placeholder="Hazard name">
                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
            `;
            container.appendChild(div);
        }

        function addItem() {
            const container = document.getElementById('itemsContainer');
            const div = document.createElement('div');
            div.className = 'array-item';
            div.innerHTML = `
                <input type="text" placeholder="Item name" style="flex: 2;">
                <input type="number" placeholder="Quantity" value="1" min="1" style="flex: 1;">
                <button class="btn-secondary btn-small" onclick="removeArrayItem(this)">Remove</button>
            `;
            container.appendChild(div);
        }

        function removeArrayItem(button) {
            button.parentElement.remove();
        }

        // Generate JSON
        function generateJSON() {
            const abilities = [];
            document.querySelectorAll('#abilitiesContainer .array-item input').forEach(input => {
                if (input.value.trim()) abilities.push(input.value.trim());
            });

            const hazards = [];
            document.querySelectorAll('#hazardsContainer .array-item input').forEach(input => {
                if (input.value.trim()) hazards.push(input.value.trim());
            });

            const items = [];
            document.querySelectorAll('#itemsContainer .array-item').forEach(item => {
                const inputs = item.querySelectorAll('input');
                if (inputs[0].value.trim()) {
                    items.push({
                        name: inputs[0].value.trim(),
                        quantity: parseInt(inputs[1].value) || 1
                    });
                }
            });

            const modData = {
                modInfo: {
                    name: document.getElementById('modName').value,
                    description: document.getElementById('modDescription').value,
                    version: "1.0.0",
                    author: "Bottle Episodes Mod Creator"
                },
                gameSettings: {
                    difficulty: document.getElementById('difficulty').value,
                    startingResources: parseInt(document.getElementById('startingResources').value),
                    zombieSpawnRate: parseInt(document.getElementById('zombieSpawnRate').value),
                    friendlyFire: document.getElementById('friendlyFire').checked,
                    permaDeath: document.getElementById('permaDeath').checked
                },
                player: {
                    name: document.getElementById('charName').value,
                    class: document.getElementById('charClass').value,
                    stats: {
                        health: parseInt(document.getElementById('charHealth').value),
                        speed: parseFloat(document.getElementById('charSpeed').value),
                        stamina: parseInt(document.getElementById('charStamina').value)
                    },
                    color: document.getElementById('charColor').value,
                    abilities: abilities
                },
                environment: {
                    mapName: document.getElementById('mapName').value,
                    timeOfDay: document.getElementById('timeOfDay').value,
                    weather: document.getElementById('weather').value,
                    ambientColor: document.getElementById('ambientColor').value,
                    hazards: hazards
                },
                items: {
                    startingInventory: items,
                    craftingEnabled: document.getElementById('enableCrafting').checked,
                    craftingDifficulty: document.getElementById('craftingDifficulty').value
                }
            };

            const jsonString = JSON.stringify(modData, null, 2);
            document.getElementById('jsonOutput').textContent = jsonString;
            showSuccess();
            updatePreview();
        }

        // Copy JSON to clipboard
        function copyJSON() {
            const jsonText = document.getElementById('jsonOutput').textContent;
            navigator.clipboard.writeText(jsonText).then(() => {
                showSuccess('JSON copied to clipboard!');
            }).catch(err => {
                showError('Failed to copy JSON');
            });
        }

        // Download JSON file
        function downloadJSON() {
            const jsonText = document.getElementById('jsonOutput').textContent;
            const modName = document.getElementById('modName').value.replace(/[^a-z0-9]/gi, '_').toLowerCase();
            const blob = new Blob([jsonText], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${modName}_mod.json`;
            a.click();
            URL.revokeObjectURL(url);
            showSuccess('JSON file downloaded!');
        }

        // Validate JSON
        function validateJSON() {
            const jsonText = document.getElementById('jsonOutput').textContent;
            try {
                JSON.parse(jsonText);
                showSuccess('‚úì JSON is valid!');
            } catch (e) {
                showError('‚úó JSON is invalid: ' + e.message);
            }
        }

        // Load template
        function loadTemplate() {
            document.getElementById('modName').value = "Survival Horror Template";
            document.getElementById('modDescription').value = "A challenging survival experience in a post-apocalyptic world.";
            document.getElementById('difficulty').value = "hard";
            document.getElementById('startingResources').value = "50";
            document.getElementById('zombieSpawnRate').value = "20";
            document.getElementById('friendlyFire').checked = true;
            document.getElementById('permaDeath').checked = true;
            
            document.getElementById('charName').value = "Elite Survivor";
            document.getElementById('charClass').value = "soldier";
            document.getElementById('charHealth').value = "150";
            document.getElementById('charSpeed').value = "6";
            document.getElementById('charStamina').value = "120";
            
            generateJSON();
            showSuccess('Template loaded successfully!');
        }

        // Reset form
        function resetForm() {
            if (confirm('Are you sure you want to reset all fields?')) {
                location.reload();
            }
        }

        // Update preview
        function updatePreview() {
            const name = document.getElementById('charName').value;
            const charClass = document.getElementById('charClass').value;
            const health = document.getElementById('charHealth').value;
            const speed = document.getElementById('charSpeed').value;
            const stamina = document.getElementById('charStamina').value;
            const color = document.getElementById('charColor').value;

            const preview = document.getElementById('characterPreview');
            const icon = document.getElementById('previewIcon');
            
            icon.style.background = color;
            preview.querySelector('div > div:first-child').textContent = `${name} - ${charClass.charAt(0).toUpperCase() + charClass.slice(1)}`;
            preview.querySelector('div > div:last-child').textContent = `HP: ${health} | Speed: ${speed} | Stamina: ${stamina}`;
        }

        // Show messages
        function showSuccess(message = 'Mod saved successfully! ‚úì') {
            const el = document.getElementById('successMessage');
            el.textContent = message;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }

        function showError(message = 'Error saving mod. Please check your inputs.') {
            const el = document.getElementById('errorMessage');
            el.textContent = message;
            el.style.display = 'block';
            setTimeout(() => el.style.display = 'none', 3000);
        }

        // Auto-generate on input changes
        document.querySelectorAll('input, select, textarea').forEach(element => {
            element.addEventListener('change', generateJSON);
        });

        document.getElementById('charName').addEventListener('input', updatePreview);
        document.getElementById('charClass').addEventListener('input', updatePreview);
        document.getElementById('charHealth').addEventListener('input', updatePreview);
        document.getElementById('charSpeed').addEventListener('input', updatePreview);
        document.getElementById('charStamina').addEventListener('input', updatePreview);

        // Initialize on load
        window.addEventListener('load', () => {
            generateJSON();
            updatePreview();
        });
    </script>
</body>
</html>

